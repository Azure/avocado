parameters:
  - name: version
    type: string

steps:
  - task: NodeTool@0
    displayName: "Install Node"
    inputs:
      versionSpec: ${{ parameters.version }}

  - script: npm ci

  - script: npm ls -a
    condition: succeededOrFailed()
    continueOnError: true

  - script: npm run build

  - script: npm run lint

  - script: npm run format:check:ci

  - script: npm run test:ci
